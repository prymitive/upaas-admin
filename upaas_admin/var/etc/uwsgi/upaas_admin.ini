[uwsgi]

upaas_admin_dir = /usr/share/pyshared/upaas_admin

master = true
vacuum = true
no-orphans = true
memory-report = true

touch-reload = /var/run/upaas_admin.reload

auto-procname = true
procname-prefix-spaced = [upaas-admin]

post-buffering = 4096
buffer-size = 8192

plugin = logfile
logger = file:/var/log/uwsgi/upaas_admin.log
log-maxsize = 52428800
disable-logging = true
log-x-forwarded-for = true
log-date = true
log-slow = 1000
log-4xx = true
log-5xx = true
ignore-write-errors = true

uid = www-data
gid = www-data

processes = 4

plugin = cheaper_busyness
cheaper = 1
cheaper-algo = busyness

chdir = %(upaas_admin_dir)
pythonpath = %(upaas_admin_dir)

static-map = /favicon.ico=%(upaas_admin_dir)/var/static/favicon.ico
static-map = /static=%(upaas_admin_dir)/var/static

plugin = python27

env = DJANGO_SETTINGS_MODULE=upaas_admin.settings
module = django.core.handlers.wsgi:WSGIHandler()

plugin = http
shared-socket = :80
http = =0

if-exists = /etc/upaas/upaas_admin_local.ini
ini = /etc/upaas/upaas_admin_local.ini
endif =
